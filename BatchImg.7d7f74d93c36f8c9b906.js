(this.webpackJsonpapp_icon=this.webpackJsonpapp_icon||[]).push([[3],{495:function(e,n,t){"use strict";var a,c,r=t(42),i=t(43),o=t(9);n.a=function(e){var n=e.children,t=e.size,a=e.borderBottom,c=e.className;return Object(o.jsx)(s,{className:c,size:t,borderBottom:a,children:n})};var s=i.b.div(a||(a=Object(r.a)(["\n    font-size: ","px;\n    ","\n"])),(function(e){return e.size}),(function(e){return e.borderBottom&&Object(i.a)(c||(c=Object(r.a)(["\n            padding-bottom: 10px;\n            border-bottom: 1px solid #fff;\n        "])))}))},496:function(e,n,t){"use strict";var a,c=t(42),r=(t(0),t(43)),i=t(653),o=t(9);n.a=function(e){var n=e.size,t=e.src,a=e.id,c=e.webId,r=e.version,l=e.BatchImg,b=e.name,d=e.multiple,j=e.changeName,p=e.onChangeName;function u(){if(128!==n[0]){if(1===r)return"app_icon_".concat(n[0],"x").concat(n[1],".png");if(2===r)return"app_icon_effects_".concat(n[0],"x").concat(n[0],".png")}else{if(1===r)return"app_icon_".concat(c,".png");if(2===r)return"app_icon_effects_".concat(c,".png")}return 150===n?"".concat(c,"_qrcode.png"):l?"".concat(b," ").concat(d):void 0}return Object(o.jsxs)(s,{children:[Object(o.jsxs)("h3",{children:[n[0]," x ",n[1]]}),Object(o.jsx)("div",{className:"img_img",children:Object(o.jsx)("img",{src:t,id:"resizeImg"+(a+1),alt:b})}),j?Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)("p",{className:"".concat(l?"card_name card_name--batch":"card_name"),id:"iconName"+(a+1),children:u()})," ",Object(o.jsx)(i.a,{size:"small",style:{marginTop:"11.2px"},onChange:p})]}):Object(o.jsx)("p",{className:"".concat(l?"card_name card_name--batch":"card_name"),id:"iconName"+(a+1),children:u()})]})};var s=r.b.div(a||(a=Object(c.a)(["\n    text-align: center;\n    background-color: #fff;\n    border-radius: 4px;\n    padding: 10px;\n    display: flex;\n    align-items: center;\n    flex-direction: column;\n\n    .img_img {\n        width: 192px;\n        height: 192px;\n        position: relative;\n    }\n\n    h3 {\n        font-size: 20px;\n    }\n\n    img {\n        position: absolute;\n        top: 50%;\n        left: 50%;\n        transform: translate(-50%, -50%);\n        max-width: 100%;\n        max-height: 100%;\n    }\n\n    p {\n        margin-top: 10px;\n        margin-bottom: 0;\n        font-size: 16px;\n    }\n\n    .card_name {\n        max-width: 218px;\n        overflow: hidden;\n        text-overflow: ellipsis;\n        white-space: nowrap;\n        position: relative;\n        &--batch {\n            padding-right: 20px;\n            &:after {\n                position: absolute;\n                content: '\u500d';\n                right: 0;\n            }\n        }\n    }\n"])))},660:function(e,n,t){"use strict";t.r(n);var a=t(42),c=t(513),r=t.n(c),i=t(643),o=t(646),s=t(514),l=t(114),b=t(0),d=t.n(b),j=t(111);function p(e){return new Promise((function(n,t){var a=new FileReader;a.readAsDataURL(e),a.onload=function(){return n(a.result)},a.onerror=function(e){return t(e)}}))}var u,h,x,m,g,f,O,v,z,w,y,k,S,C=t(645),_=t(650),I=t(487),T=t(652),B=t(516),N=t(517),q=t(655),M=t(653),R=t(485),E=t(647),L=t(657),A=t(654),G=t(540),P=t(43),U=t(518),D=t.n(U),F=t(508),J=t(495),H=t(496),K=t(9),X={slidesToShow:4,autoplay:!0,arrows:!0};n.default=function(){var e=Object(b.useState)([]),n=Object(l.a)(e,2),t=n[0],a=n[1],c=Object(b.useState)(2),u=Object(l.a)(c,2),h=u[0],x=u[1],m=Object(b.useState)(2),g=Object(l.a)(m,2),f=g[0],O=g[1],v=Object(b.useState)(!1),z=Object(l.a)(v,2),w=z[0],y=z[1],k=Object(b.useState)(""),S=Object(l.a)(k,2),L=S[0],A=S[1],P=Object(b.useState)(""),U=Object(l.a)(P,2),J=U[0],oe=U[1],se=Object(b.useState)(""),le=Object(l.a)(se,2),be=le[0],de=le[1],je=Object(b.useState)(!1),pe=Object(l.a)(je,2),ue=pe[0],he=pe[1],xe=Object(b.useState)(!1),me=Object(l.a)(xe,2),ge=me[0],fe=me[1],Oe=Object(b.useState)(""),ve=Object(l.a)(Oe,2),ze=ve[0],we=ve[1],ye=Object(b.useState)([]),ke=Object(l.a)(ye,2),Se=ke[0],Ce=ke[1],_e=Object(b.useState)(0),Ie=Object(l.a)(_e,2),Te=Ie[0],Be=Ie[1],Ne=Object(b.useState)([2,3,3,4]),qe=Object(l.a)(Ne,2),Me=qe[0],Re=qe[1],Ee=Object(b.useContext)(j.a).setH1Title,Le=Object(b.useRef)(),Ae=Object(K.jsxs)("div",{children:[Object(K.jsx)(G.a,{}),Object(K.jsx)("div",{style:{marginTop:8},children:"\u4e0a\u50b3\u5716\u7247"})]});function Ge(){return(Ge=Object(s.a)(r.a.mark((function e(n){var t,c,o,s,l,b;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return y(!1),he(!0),we("\u4e0a\u50b3\u4e2d"),t={},e.next=6,p(n);case 6:return c=e.sent,o=new Image,s=0,l=0,o.onload=function(){t.qrCodeSize=[o.width,o.height],t.resizeBase64Img=[],t.copyResizeBase64Img=[];for(var e=0;e<Me.length;e++){var n=document.createElement("canvas"),a=n.getContext("2d"),r=new Image;1===h?(s=Math.ceil(t.qrCodeSize[0]*Me[e]),l=Math.ceil(t.qrCodeSize[1]*Me[e])):(s=Math.ceil(t.qrCodeSize[0]/4*Me[e]),l=Math.ceil(t.qrCodeSize[1]/4*Me[e])),r.src=c,n.width=s,n.height=l,a.drawImage(r,0,0,s,l);var i=n.toDataURL("image/png");t.resizeBase64Img[e]=i,t.copyResizeBase64Img[e]=i}},o.src=c,t.base64Img=c,t.name=n.name,t.copyName=n.name,(b="image/png"===n.type)||C.b.error("\u8acb\u4e0a\u50b3PNG\u6a94!"),a((function(e){return[].concat(Object(i.a)(e),[t])})),e.abrupt("return",!!b||_.a.LIST_IGNORE);case 19:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Pe(e,n){var c=e.target.value;"name"===n&&O(c),"size"===n&&x(c),2===c&&"name"===n&&t.map((function(e){return e.name=e.copyName})),2===c&&"size"===n&&(Re([2,3,3,4]),A(""),oe(""),a([])),1===c&&"size"===n&&(a([]),Be(0))}return Object(b.useEffect)((function(){return function(){Be(0),a([])}}),[]),Object(b.useEffect)((function(){Ee("\u904a\u6232\u5716\u7247\u6279\u6b21\u7522\u5716\u5de5\u5177"),0!==Le.current.children.length&&(we(""),he(!1)),t.length&&Ce(t[0].qrCodeSize)}),[Ee,t,Se,Me,w]),Object(K.jsxs)(Q,{children:[ue&&Object(K.jsx)(ne,{type:"error",message:ze,banner:!0}),ue&&Object(K.jsx)(ae,{children:Object(K.jsx)(I.a,{size:"large"})}),ge&&Object(K.jsx)(te,{type:"success",message:ze,banner:!0}),Object(K.jsx)(V,{children:Object(K.jsx)(T.a,{children:Object(K.jsxs)(B.a,{gutter:32,children:[Object(K.jsxs)(N.a,{span:10,children:[Object(K.jsx)(W,{size:20,borderBottom:!0,children:"\u4e0a\u50b3\u5716\u7247"}),(2===h||""!==L&&""!==J)&&Object(K.jsx)(Y,{listType:"picture-card",showUploadList:!1,multiple:!0,beforeUpload:function(e){return Ge.apply(this,arguments)},onChange:function(e){"done"===e.file.status&&Be(Te+1),Te+1===e.fileList.length&&(he(!1),we("\u5716\u7247\u4e0a\u50b3\u5b8c\u6210"),fe(!0),setTimeout((function(){fe(!1),we("")}),2e3))},customRequest:function(e){setTimeout((function(){e.onSuccess("ok")}),0)},children:Ae}),Object(K.jsx)(ce,{gutter:8,children:t&&t.map((function(e,n){return Object(K.jsx)(re,{children:Object(K.jsx)("img",{src:e.base64Img,alt:e.name})},n)}))})]}),Object(K.jsxs)(N.a,{span:10,children:[Object(K.jsx)(W,{size:20,borderBottom:!0,children:"\u5716\u7247\u8cc7\u8a0a"}),Object(K.jsxs)(Z,{children:[Object(K.jsx)("p",{children:"\u81ea\u5b9a\u7fa9\u540d\u7a31"}),Object(K.jsx)($,{children:Object(K.jsxs)(q.a.Group,{value:f,onChange:function(e){return Pe(e,"name")},children:[Object(K.jsx)(q.a,{value:1,children:"\u662f"}),Object(K.jsx)(q.a,{value:2,children:"\u5426"})]})})]}),Object(K.jsxs)(Z,{children:[Object(K.jsx)("p",{children:"\u81ea\u5b9a\u7fa9\u5c3a\u5bf8"}),Object(K.jsxs)($,{children:[Object(K.jsxs)(q.a.Group,{value:h,onChange:function(e){return Pe(e,"size")},children:[Object(K.jsx)(q.a,{value:1,children:"\u662f"}),Object(K.jsx)(q.a,{value:2,children:"\u5426"})]}),1===h&&Object(K.jsx)(M.a,{placeholder:"\u8acb\u8f38\u5165\u539f\u59cb\u5716\u7247\u5bec\u5ea6\u5c3a\u5bf8",style:{resize:"none",marginTop:"10px",width:"100%"},value:J,onChange:function(e){var n=e.target.value;oe(n)}}),1===h&&""!==J&&Object(K.jsx)(M.a.TextArea,{rows:3,placeholder:"\u591a\u5c3a\u5bf8\uff0c\u8f38\u5165\u5bec\u5ea6\u5373\u53ef\uff0c\u7a0b\u5f0f\u6703\u81ea\u52d5\u8a08\u7b97\u9ad8\u5ea6\uff0c\u8acb\u4ee5 , \u505a\u5340\u9694\uff0c\u7bc4\u4f8b: 64,128,256,512",style:{resize:"none",marginTop:"10px"},value:L,onChange:function(e){A(e.target.value);var n=[];e.target.value.split(",").map(Number).forEach((function(e){n.push(e/J)})),Re(n)}})]})]}),Object(K.jsxs)(Z,{children:[Object(K.jsx)("p",{children:"\u58d3\u7e2e\u6a94\u540d\u7a31"}),Object(K.jsx)(M.a,{placeholder:"\u8acb\u8f38\u5165\u58d3\u7e2e\u6a94\u540d\u7a31",size:"small",value:be,onChange:function(e){de(e.target.value)}})]})]}),Object(K.jsxs)(N.a,{span:4,style:{display:"flex",flexDirection:"column"},children:[Object(K.jsx)(W,{size:20,borderBottom:!0,children:"\u529f\u80fd"}),Object(K.jsx)(R.a,{type:"primary",size:"large",block:!0,onClick:function(){0!==t.length&&0===Le.current.children.length&&(fe(!1),we("\u5716\u7247\u7e2e\u653e\u57f7\u884c\u4e2d"),he(!0),setTimeout((function(){y(!0)}),200),0===t.length&&1===h&&""===L&&(we("\u8acb\u5148\u4e0a\u50b3\u5716\u6a19\u5728\u8a2d\u5b9a\u5c3a\u5bf8"),he(!0),setTimeout((function(){he(!1),we("")}),2e3)))},children:"\u57f7\u884c\u5716\u7247\u7e2e\u653e"}),Object(K.jsx)(R.a,{type:"danger",size:"large",block:!0,style:{marginTop:"10px"},onClick:function(){a([]),y(!1),de(""),x(2),O(2),Re([2,3,3,4]),A(""),oe("")},children:"\u91cd\u7f6e"}),Object(K.jsx)(R.a,{type:"primary",size:"large",block:!0,style:{marginTop:"auto"},href:"https://tinypng.com/",target:"_blank",children:"TinyPng\u7db2\u7ad9"}),Object(K.jsx)(R.a,{type:"primary",size:"large",block:!0,style:{marginTop:"10px"},onClick:function(){for(var e=be||"\u5716\u6a19",n=new D.a,a="",c="",r=n.folder(e),i=0;i<Me.length;i++)for(var o=0;o<t.length;o++)if(a=t[o].resizeBase64Img[i].replace("data:image/png;base64,",""),c=t[o].name,1===h)r.folder("".concat(t[o].qrCodeSize[0]*Me[i]," x ").concat(t[o].qrCodeSize[1]*Me[i])).file(c,a,{base64:!0});else switch(i){case 0:r.folder("2x").file(c,a,{base64:!0});break;case 1:r.folder("3x").file(c,a,{base64:!0});break;case 2:r.folder("xxhdpi").file(c,a,{base64:!0});break;case 3:r.folder("xxxhdpi").file(c,a,{base64:!0})}n.generateAsync({type:"blob"}).then((function(n){Object(F.saveAs)(n,e)}))},children:"\u6253\u5305\u4e0b\u8f09"})]})]})})}),Object(K.jsx)(ee,{children:Object(K.jsx)(B.a,{gutter:[16,16],ref:Le,children:w&&t.map((function(e,n){return Object(K.jsxs)(d.a.Fragment,{children:[Object(K.jsx)(N.a,{span:24,children:Object(K.jsx)(E.a,{children:e.copyName})}),1===f&&Object(K.jsx)(N.a,{span:12,children:Object(K.jsxs)(B.a,{align:"middle",children:[Object(K.jsx)(N.a,{span:4,children:Object(K.jsx)("p",{style:{marginBottom:0},children:"\u81ea\u5b9a\u7fa9\u540d\u7a31"})}),Object(K.jsx)(N.a,{span:20,children:Object(K.jsx)(M.a,{placeholder:"\u8f38\u5165\u5b8c\u6210\u8acb\u6309\u4e0b'Enter'\u9375",onKeyPress:function(n){return function(e,n){var c=t.filter((function(t){return t.base64Img===n&&(t.name="".concat(e.target.value,".png")),t}));"Enter"===e.key&&a(c)}(n,e.base64Img)}})})]})}),Object(K.jsx)(N.a,{span:24,children:Object(K.jsx)(B.a,{gutter:[16,16],children:Object(K.jsx)(N.a,{span:24,children:Object(K.jsx)(ie,Object(o.a)(Object(o.a)({},X),{},{children:e.resizeBase64Img&&e.resizeBase64Img.map((function(t,a){return Object(K.jsx)(N.a,{span:24,children:Object(K.jsx)(H.a,{id:n,src:t,size:1===h?[Math.ceil(e.qrCodeSize[0]*Me[a]),Math.ceil(e.qrCodeSize[1]*Me[a])]:[Math.ceil(e.qrCodeSize[0]/4*Me[a]),Math.ceil(e.qrCodeSize[1]/4*Me[a])],BatchImg:!0,name:e.name,multiple:Me[a]})},a)}))}))})})})]},n)}))})})]})};var Q=P.b.main(u||(u=Object(a.a)([""]))),V=P.b.section(h||(h=Object(a.a)(["\n    padding: 30px 0;\n    background-color: #ccc;\n    form {\n        max-width: 1000px;\n        margin: 0 auto;\n        & > .ant-row {\n            min-height: 294px;\n        }\n    }\n"]))),W=Object(P.b)(J.a)(x||(x=Object(a.a)(["\n    margin-bottom: 10px;\n"]))),Y=Object(P.b)(_.a)(m||(m=Object(a.a)(["\n    .ant-upload-list-item {\n        border-color: #d9d9d9;\n        background: #fff;\n    }\n    .ant-tooltip {\n        display: none;\n    }\n    .ant-upload-list {\n        max-height: 223px;\n        overflow: hidden;\n        overflow-y: auto;\n        &::-webkit-scrollbar {\n            width: 5px;\n            height: 5px;\n            background-color: #ccc;\n        }\n        &::-webkit-scrollbar-track {\n            box-shadow: inset 0 0 5px rgba(0, 0, 0, 0.3);\n            background-color: #ccc;\n            border-radius: 10px;\n        }\n        /*\u6eda\u52a8\u6761\u7684\u6ed1\u5757\u6309\u94ae*/\n        &::-webkit-scrollbar-thumb {\n            border-radius: 10px;\n            background-color: #001529;\n            box-shadow: inset 0 0 5px #000;\n        }\n    }\n"]))),Z=P.b.div(g||(g=Object(a.a)(["\n    display: flex;\n    margin-bottom: 10px;\n    p {\n        min-width: 80px;\n        margin-right: 10px;\n        margin-bottom: 0;\n    }\n    input {\n        width: 170px;\n    }\n"]))),$=P.b.div(f||(f=Object(a.a)([""]))),ee=P.b.section(O||(O=Object(a.a)(["\n    max-width: 1000px;\n    margin: 0 auto;\n    padding: 30px 0;\n"]))),ne=Object(P.b)(L.a)(v||(v=Object(a.a)(["\n    position: fixed;\n    top: 20px;\n    left: 50%;\n    transform: translateX(-50%);\n    z-index: 51;\n"]))),te=Object(P.b)(L.a)(z||(z=Object(a.a)(["\n    position: fixed;\n    top: 50%;\n    left: 50%;\n    transform: translate(-50%, -50%);\n    z-index: 51;\n    font-size: 22px;\n"]))),ae=P.b.div(w||(w=Object(a.a)(["\n    position: fixed;\n    top: 0;\n    right: 0;\n    bottom: 0;\n    left: 0;\n    background: rgba(0, 0, 0, 0.3);\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    z-index: 50;\n"]))),ce=Object(P.b)(B.a)(y||(y=Object(a.a)(["\n    max-height: 224px;\n    overflow-y: auto;\n    &::-webkit-scrollbar {\n        width: 5px;\n        background-color: #83adee;\n        border-radius: 5px;\n    }\n    &::-webkit-scrollbar-thumb {\n        width: 5px;\n        border-radius: 5px;\n        background-color: #243d65;\n    }\n"]))),re=P.b.div(k||(k=Object(a.a)(["\n    width: 104px;\n    height: 104px;\n    background-color: #fafafa;\n    border: 1px dashed #d9d9d9;\n    margin: 4px;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    img {\n        max-width: 100%;\n        height: auto;\n    }\n"]))),ie=Object(P.b)(A.a)(S||(S=Object(a.a)(["\n    margin: 0 -8px;\n    .slick-arrow {\n        background: #ccc;\n        &:before {\n            color: #fff;\n            font-size: 12px;\n        }\n        &:hover,\n        &:active {\n            background: #666;\n        }\n    }\n"])))}}]);
//# sourceMappingURL=BatchImg.7d7f74d93c36f8c9b906.js.map