(this.webpackJsonpapp_icon=this.webpackJsonpapp_icon||[]).push([[3],{491:function(e,n,t){"use strict";t.r(n);var a=t(42),c=t(519),r=t.n(c),i=t(649),s=t(652),o=t(520),l=t(114),b=t(0),d=t.n(b),j=t(111);function p(e){return new Promise((function(n,t){var a=new FileReader;a.readAsDataURL(e),a.onload=function(){return n(a.result)},a.onerror=function(e){return t(e)}}))}var u,h,x,m,g,O,f,v,z,y,w,k,S,C=t(651),_=t(655),I=t(493),B=t(657),q=t(522),T=t(523),N=t(660),M=t(658),E=t(486),R=t(653),L=t(661),P=t(659),A=t(546),F=t(43),G=t(524),U=t.n(G),D=t(514),J=t(501),K=t(502),H=t(9),X={slidesToShow:4,autoplay:!0,arrows:!0};n.default=function(){var e=Object(b.useState)([]),n=Object(l.a)(e,2),t=n[0],a=n[1],c=Object(b.useState)(2),u=Object(l.a)(c,2),h=u[0],x=u[1],m=Object(b.useState)(2),g=Object(l.a)(m,2),O=g[0],f=g[1],v=Object(b.useState)(!1),z=Object(l.a)(v,2),y=z[0],w=z[1],k=Object(b.useState)(""),S=Object(l.a)(k,2),L=S[0],P=S[1],F=Object(b.useState)(""),G=Object(l.a)(F,2),J=G[0],se=G[1],oe=Object(b.useState)(""),le=Object(l.a)(oe,2),be=le[0],de=le[1],je=Object(b.useState)(!1),pe=Object(l.a)(je,2),ue=pe[0],he=pe[1],xe=Object(b.useState)(!1),me=Object(l.a)(xe,2),ge=me[0],Oe=me[1],fe=Object(b.useState)(""),ve=Object(l.a)(fe,2),ze=ve[0],ye=ve[1],we=Object(b.useState)([]),ke=Object(l.a)(we,2),Se=ke[0],Ce=ke[1],_e=Object(b.useState)(0),Ie=Object(l.a)(_e,2),Be=Ie[0],qe=Ie[1],Te=Object(b.useState)([2,3,3,4]),Ne=Object(l.a)(Te,2),Me=Ne[0],Ee=Ne[1],Re=Object(b.useContext)(j.a).setH1Title,Le=Object(b.useRef)(),Pe=Object(H.jsxs)("div",{children:[Object(H.jsx)(A.a,{}),Object(H.jsx)("div",{style:{marginTop:8},children:"\u4e0a\u50b3\u5716\u7247"})]});function Ae(){return(Ae=Object(o.a)(r.a.mark((function e(n){var t,c,s,o,l,b;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return w(!1),he(!0),ye("\u4e0a\u50b3\u4e2d"),t={},e.next=6,p(n);case 6:return c=e.sent,s=new Image,o=0,l=0,s.onload=function(){t.qrCodeSize=[s.width,s.height],t.resizeBase64Img=[],t.copyResizeBase64Img=[];for(var e=0;e<Me.length;e++){var n=document.createElement("canvas"),a=n.getContext("2d"),r=new Image;1===h?(o=Math.ceil(t.qrCodeSize[0]*Me[e]),l=Math.ceil(t.qrCodeSize[1]*Me[e])):(o=Math.ceil(t.qrCodeSize[0]/4*Me[e]),l=Math.ceil(t.qrCodeSize[1]/4*Me[e])),r.src=c,n.width=o,n.height=l,a.drawImage(r,0,0,o,l);var i=n.toDataURL("image/png");t.resizeBase64Img[e]=i,t.copyResizeBase64Img[e]=i}},s.src=c,t.base64Img=c,t.name=n.name,t.copyName=n.name,(b="image/png"===n.type)||C.b.error("\u8acb\u4e0a\u50b3PNG\u6a94!"),a((function(e){return[].concat(Object(i.a)(e),[t])})),e.abrupt("return",!!b||_.a.LIST_IGNORE);case 19:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Fe(e,n){var c=e.target.value;"name"===n&&f(c),"size"===n&&x(c),2===c&&"name"===n&&t.map((function(e){return e.name=e.copyName})),2===c&&"size"===n&&(Ee([2,3,3,4]),P(""),se(""),a([])),1===c&&"size"===n&&(a([]),qe(0))}function Ge(e,n){var c=t.filter((function(t){return t.base64Img===n&&(t.name="".concat(e.target.value,".png")),t}));"Enter"===e.key&&a(c)}return Object(b.useEffect)((function(){return function(){qe(0),a([])}}),[]),Object(b.useEffect)((function(){Re("\u904a\u6232\u5716\u7247\u6279\u6b21\u7522\u5716\u5de5\u5177"),0!==Le.current.children.length&&(ye(""),he(!1)),t.length&&Ce(t[0].qrCodeSize)}),[Re,t,Se,Me,y]),Object(H.jsxs)(Q,{children:[ue&&Object(H.jsx)(ne,{type:"error",message:ze,banner:!0}),ue&&Object(H.jsx)(ae,{children:Object(H.jsx)(I.a,{size:"large"})}),ge&&Object(H.jsx)(te,{type:"success",message:ze,banner:!0}),Object(H.jsx)(V,{children:Object(H.jsx)(B.a,{children:Object(H.jsxs)(q.a,{gutter:32,children:[Object(H.jsxs)(T.a,{span:10,children:[Object(H.jsx)(W,{size:20,borderBottom:!0,children:"\u4e0a\u50b3\u5716\u7247"}),(2===h||""!==L&&""!==J)&&Object(H.jsx)(Y,{listType:"picture-card",showUploadList:!1,multiple:!0,beforeUpload:function(e){return Ae.apply(this,arguments)},onChange:function(e){"done"===e.file.status&&qe(Be+1),Be+1===e.fileList.length&&(he(!1),ye("\u5716\u7247\u4e0a\u50b3\u5b8c\u6210"),Oe(!0),setTimeout((function(){Oe(!1),ye("")}),2e3))},customRequest:function(e){setTimeout((function(){e.onSuccess("ok")}),0)},children:Pe}),Object(H.jsx)(ce,{gutter:8,children:t&&t.map((function(e,n){return Object(H.jsx)(re,{children:Object(H.jsx)("img",{src:e.base64Img,alt:e.name})},n)}))})]}),Object(H.jsxs)(T.a,{span:10,children:[Object(H.jsx)(W,{size:20,borderBottom:!0,children:"\u5716\u7247\u8cc7\u8a0a"}),Object(H.jsxs)(Z,{children:[Object(H.jsx)("p",{children:"\u81ea\u5b9a\u7fa9\u540d\u7a31"}),Object(H.jsx)($,{children:Object(H.jsxs)(N.a.Group,{value:O,onChange:function(e){return Fe(e,"name")},children:[Object(H.jsx)(N.a,{value:1,children:"\u662f"}),Object(H.jsx)(N.a,{value:2,children:"\u5426"})]})})]}),Object(H.jsxs)(Z,{children:[Object(H.jsx)("p",{children:"\u81ea\u5b9a\u7fa9\u5c3a\u5bf8"}),Object(H.jsxs)($,{children:[Object(H.jsxs)(N.a.Group,{value:h,onChange:function(e){return Fe(e,"size")},children:[Object(H.jsx)(N.a,{value:1,children:"\u662f"}),Object(H.jsx)(N.a,{value:2,children:"\u5426"})]}),1===h&&Object(H.jsx)(M.a,{placeholder:"\u8acb\u8f38\u5165\u539f\u59cb\u5716\u7247\u5bec\u5ea6\u5c3a\u5bf8",style:{resize:"none",marginTop:"10px",width:"100%"},value:J,onChange:function(e){var n=e.target.value;se(n)}}),1===h&&""!==J&&Object(H.jsx)(M.a.TextArea,{rows:3,placeholder:"\u591a\u5c3a\u5bf8\uff0c\u8f38\u5165\u5bec\u5ea6\u5373\u53ef\uff0c\u7a0b\u5f0f\u6703\u81ea\u52d5\u8a08\u7b97\u9ad8\u5ea6\uff0c\u8acb\u4ee5 , \u505a\u5340\u9694\uff0c\u7bc4\u4f8b: 64,128,256,512",style:{resize:"none",marginTop:"10px"},value:L,onChange:function(e){P(e.target.value);var n=[];e.target.value.split(",").map(Number).forEach((function(e){n.push(e/J)})),Ee(n)}})]})]}),Object(H.jsxs)(Z,{children:[Object(H.jsx)("p",{children:"\u58d3\u7e2e\u6a94\u540d\u7a31"}),Object(H.jsx)(M.a,{placeholder:"\u8acb\u8f38\u5165\u58d3\u7e2e\u6a94\u540d\u7a31",size:"small",value:be,onChange:function(e){de(e.target.value)}})]})]}),Object(H.jsxs)(T.a,{span:4,style:{display:"flex",flexDirection:"column"},children:[Object(H.jsx)(W,{size:20,borderBottom:!0,children:"\u529f\u80fd"}),Object(H.jsx)(E.a,{type:"primary",size:"large",block:!0,onClick:function(){0!==t.length&&0===Le.current.children.length&&(Oe(!1),ye("\u5716\u7247\u7e2e\u653e\u57f7\u884c\u4e2d"),he(!0),setTimeout((function(){w(!0)}),200),0===t.length&&1===h&&""===L&&(ye("\u8acb\u5148\u4e0a\u50b3\u5716\u6a19\u5728\u8a2d\u5b9a\u5c3a\u5bf8"),he(!0),setTimeout((function(){he(!1),ye("")}),2e3)))},children:"\u57f7\u884c\u5716\u7247\u7e2e\u653e"}),Object(H.jsx)(E.a,{type:"danger",size:"large",block:!0,style:{marginTop:"10px"},onClick:function(){a([]),w(!1),de(""),x(2),f(2),Ee([2,3,3,4]),P(""),se("")},children:"\u91cd\u7f6e"}),Object(H.jsx)(E.a,{type:"primary",size:"large",block:!0,style:{marginTop:"auto"},href:"https://tinypng.com/",target:"_blank",children:"TinyPng\u7db2\u7ad9"}),Object(H.jsx)(E.a,{type:"primary",size:"large",block:!0,style:{marginTop:"10px"},onClick:function(){for(var e=be||"\u5716\u6a19",n=new U.a,a="",c="",r=n.folder(e),i=0;i<Me.length;i++)for(var s=0;s<t.length;s++)if(a=t[s].resizeBase64Img[i].replace("data:image/png;base64,",""),c=t[s].name,1===h)r.folder("".concat(t[s].qrCodeSize[0]*Me[i]," x ").concat(t[s].qrCodeSize[1]*Me[i])).file(c,a,{base64:!0});else switch(i){case 0:r.folder("2x").file(c,a,{base64:!0});break;case 1:r.folder("3x").file(c,a,{base64:!0});break;case 2:r.folder("xxhdpi").file(c,a,{base64:!0});break;case 3:r.folder("xxxhdpi").file(c,a,{base64:!0})}n.generateAsync({type:"blob"}).then((function(n){Object(D.saveAs)(n,e)}))},children:"\u6253\u5305\u4e0b\u8f09"})]})]})})}),Object(H.jsx)(ee,{children:Object(H.jsxs)(q.a,{gutter:[16,16],ref:Le,children:[y&&Me.length>=4&&t.map((function(e,n){return Object(H.jsxs)(d.a.Fragment,{children:[Object(H.jsx)(T.a,{span:24,children:Object(H.jsx)(R.a,{children:e.copyName})}),1===O&&Object(H.jsx)(T.a,{span:12,children:Object(H.jsxs)(q.a,{align:"middle",children:[Object(H.jsx)(T.a,{span:4,children:Object(H.jsx)("p",{style:{marginBottom:0},children:"\u81ea\u5b9a\u7fa9\u540d\u7a31"})}),Object(H.jsx)(T.a,{span:20,children:Object(H.jsx)(M.a,{placeholder:"\u8f38\u5165\u5b8c\u6210\u8acb\u6309\u4e0b'Enter'\u9375",onKeyPress:function(n){return Ge(n,e.base64Img)}})})]})}),Object(H.jsx)(T.a,{span:24,children:Object(H.jsx)(q.a,{gutter:[16,16],children:Object(H.jsx)(T.a,{span:24,children:Object(H.jsx)(ie,Object(s.a)(Object(s.a)({},X),{},{children:e.resizeBase64Img&&e.resizeBase64Img.map((function(t,a){return Object(H.jsx)(T.a,{span:24,children:Object(H.jsx)(K.a,{id:n,src:t,size:1===h?[Math.ceil(e.qrCodeSize[0]*Me[a]),Math.ceil(e.qrCodeSize[1]*Me[a])]:[Math.ceil(e.qrCodeSize[0]/4*Me[a]),Math.ceil(e.qrCodeSize[1]/4*Me[a])],BatchImg:!0,name:e.name,multiple:Me[a]})},a)}))}))})})})]},n)})),y&&Me.length<4&&t.map((function(e,n){return e.resizeBase64Img.map((function(t,a){return Object(H.jsxs)(d.a.Fragment,{children:[0===a&&Object(H.jsx)(T.a,{span:24,children:Object(H.jsx)(R.a,{children:e.copyName})}),0===a&&1===O?Object(H.jsx)(T.a,{span:12,children:Object(H.jsxs)(q.a,{align:"middle",children:[Object(H.jsx)(T.a,{span:4,children:Object(H.jsx)("p",{style:{marginBottom:0},children:"\u81ea\u5b9a\u7fa9\u540d\u7a31"})}),Object(H.jsx)(T.a,{span:20,children:Object(H.jsx)(M.a,{placeholder:"\u8f38\u5165\u5b8c\u6210\u8acb\u6309\u4e0b'Enter'\u9375",onKeyPress:function(n){return Ge(n,e.base64Img)}})})]})}):null,0===a&&Object(H.jsx)(T.a,{span:24,style:{padding:0}}),Object(H.jsx)(T.a,{span:6,children:Object(H.jsx)(K.a,{id:n,src:t,size:1===h?[Math.ceil(e.qrCodeSize[0]*Me[a]),Math.ceil(e.qrCodeSize[1]*Me[a])]:[Math.ceil(e.qrCodeSize[0]/4*Me[a]),Math.ceil(e.qrCodeSize[1]/4*Me[a])],BatchImg:!0,name:e.name,multiple:Me[a]})})]},e.name+a)}))}))]})})]})};var Q=F.b.main(u||(u=Object(a.a)([""]))),V=F.b.section(h||(h=Object(a.a)(["\n    padding: 30px 0;\n    background-color: #ccc;\n    form {\n        max-width: 1000px;\n        margin: 0 auto;\n        & > .ant-row {\n            min-height: 294px;\n        }\n    }\n"]))),W=Object(F.b)(J.a)(x||(x=Object(a.a)(["\n    margin-bottom: 10px;\n"]))),Y=Object(F.b)(_.a)(m||(m=Object(a.a)(["\n    .ant-upload-list-item {\n        border-color: #d9d9d9;\n        background: #fff;\n    }\n    .ant-tooltip {\n        display: none;\n    }\n    .ant-upload-list {\n        max-height: 223px;\n        overflow: hidden;\n        overflow-y: auto;\n        &::-webkit-scrollbar {\n            width: 5px;\n            height: 5px;\n            background-color: #ccc;\n        }\n        &::-webkit-scrollbar-track {\n            box-shadow: inset 0 0 5px rgba(0, 0, 0, 0.3);\n            background-color: #ccc;\n            border-radius: 10px;\n        }\n        /*\u6eda\u52a8\u6761\u7684\u6ed1\u5757\u6309\u94ae*/\n        &::-webkit-scrollbar-thumb {\n            border-radius: 10px;\n            background-color: #001529;\n            box-shadow: inset 0 0 5px #000;\n        }\n    }\n"]))),Z=F.b.div(g||(g=Object(a.a)(["\n    display: flex;\n    margin-bottom: 10px;\n    p {\n        min-width: 80px;\n        margin-right: 10px;\n        margin-bottom: 0;\n    }\n    input {\n        width: 170px;\n    }\n"]))),$=F.b.div(O||(O=Object(a.a)([""]))),ee=F.b.section(f||(f=Object(a.a)(["\n    max-width: 1000px;\n    margin: 0 auto;\n    padding: 30px 0;\n"]))),ne=Object(F.b)(L.a)(v||(v=Object(a.a)(["\n    position: fixed;\n    top: 20px;\n    left: 50%;\n    transform: translateX(-50%);\n    z-index: 51;\n"]))),te=Object(F.b)(L.a)(z||(z=Object(a.a)(["\n    position: fixed;\n    top: 50%;\n    left: 50%;\n    transform: translate(-50%, -50%);\n    z-index: 51;\n    font-size: 22px;\n"]))),ae=F.b.div(y||(y=Object(a.a)(["\n    position: fixed;\n    top: 0;\n    right: 0;\n    bottom: 0;\n    left: 0;\n    background: rgba(0, 0, 0, 0.3);\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    z-index: 50;\n"]))),ce=Object(F.b)(q.a)(w||(w=Object(a.a)(["\n    max-height: 224px;\n    overflow-y: auto;\n    &::-webkit-scrollbar {\n        width: 5px;\n        background-color: #83adee;\n        border-radius: 5px;\n    }\n    &::-webkit-scrollbar-thumb {\n        width: 5px;\n        border-radius: 5px;\n        background-color: #243d65;\n    }\n"]))),re=F.b.div(k||(k=Object(a.a)(["\n    width: 104px;\n    height: 104px;\n    background-color: #fafafa;\n    border: 1px dashed #d9d9d9;\n    margin: 4px;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    img {\n        max-width: 100%;\n        height: auto;\n    }\n"]))),ie=Object(F.b)(P.a)(S||(S=Object(a.a)(["\n    margin: 0 -8px;\n    .slick-arrow {\n        background: #ccc;\n        &:before {\n            color: #fff;\n            font-size: 12px;\n        }\n        &:hover,\n        &:active {\n            background: #666;\n        }\n    }\n"])))},501:function(e,n,t){"use strict";var a,c,r=t(42),i=t(43),s=t(9);n.a=function(e){var n=e.children,t=e.size,a=e.borderBottom,c=e.className;return Object(s.jsx)(o,{className:c,size:t,borderBottom:a,children:n})};var o=i.b.div(a||(a=Object(r.a)(["\n    font-size: ","px;\n    ","\n"])),(function(e){return e.size}),(function(e){return e.borderBottom&&Object(i.a)(c||(c=Object(r.a)(["\n            padding-bottom: 10px;\n            border-bottom: 1px solid #fff;\n        "])))}))},502:function(e,n,t){"use strict";var a,c=t(42),r=(t(0),t(43)),i=t(658),s=t(9);n.a=function(e){var n=e.size,t=e.src,a=e.id,c=e.webId,r=e.version,l=e.BatchImg,b=e.name,d=e.multiple,j=e.changeName,p=e.onChangeName;function u(){if(128!==n[0]){if(1===r)return"app_icon_".concat(n[0],"x").concat(n[1],".png");if(2===r)return"app_icon_effects_".concat(n[0],"x").concat(n[0],".png")}else{if(1===r)return"app_icon_".concat(c,".png");if(2===r)return"app_icon_effects_".concat(c,".png")}return 150===n?"".concat(c,"_qrcode.png"):l?"".concat(b," ").concat(d):void 0}return Object(s.jsxs)(o,{children:[Object(s.jsxs)("h3",{children:[n[0]," x ",n[1]]}),Object(s.jsx)("div",{className:"img_img",children:Object(s.jsx)("img",{src:t,id:"resizeImg"+(a+1),alt:b})}),j?Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)("p",{className:"".concat(l?"card_name card_name--batch":"card_name"),id:"iconName"+(a+1),children:u()})," ",Object(s.jsx)(i.a,{size:"small",style:{marginTop:"11.2px"},onChange:p})]}):Object(s.jsx)("p",{className:"".concat(l?"card_name card_name--batch":"card_name"),id:"iconName"+(a+1),children:u()})]})};var o=r.b.div(a||(a=Object(c.a)(["\n    text-align: center;\n    background-color: #fff;\n    border-radius: 4px;\n    padding: 10px;\n    display: flex;\n    align-items: center;\n    flex-direction: column;\n\n    .img_img {\n        width: 192px;\n        height: 192px;\n        position: relative;\n    }\n\n    h3 {\n        font-size: 20px;\n    }\n\n    img {\n        position: absolute;\n        top: 50%;\n        left: 50%;\n        transform: translate(-50%, -50%);\n        max-width: 100%;\n        max-height: 100%;\n    }\n\n    p {\n        margin-top: 10px;\n        margin-bottom: 0;\n        font-size: 16px;\n    }\n\n    .card_name {\n        max-width: 218px;\n        overflow: hidden;\n        text-overflow: ellipsis;\n        white-space: nowrap;\n        position: relative;\n        &--batch {\n            padding-right: 20px;\n            &:after {\n                position: absolute;\n                content: '\u500d';\n                right: 0;\n            }\n        }\n    }\n"])))}}]);
//# sourceMappingURL=BatchImg.dc402c86ad0b42ef058e.js.map